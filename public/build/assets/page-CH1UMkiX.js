import{r as i,j as e}from"./app-CPP3CGEh.js";import{u as be,B as S}from"./button-5O4adR74.js";import{I as F}from"./input-CqPEg-N0.js";import{c as J,a as ve,P as C,b as j,u as Y,d as je,e as ye,A as Ne}from"./layout-BOBk0sha.js";import{u as W,P as we,D as Te,a as Ce,b as Se,c as Ie,d as Ae,e as Fe}from"./dialog-CSmIKXqy.js";import{u as Q,S as B,a as K,b as U,c as z,d as A,e as Ee}from"./select-iAnhQ0eW.js";import{c as E,C as Re}from"./card-zNSaUTUc.js";import{B as $}from"./badge-CuYJEHe9.js";import{E as De}from"./eye-CQ2JjS-P.js";import{M as ke}from"./message-square-BtwosXBg.js";import{T as _e}from"./trash-2-Jy5fX1dE.js";import{c as Pe}from"./createLucideIcon-CmG2z6Pd.js";import{C as Me}from"./chart-column-Cqby06lJ.js";import{T as q}from"./trending-up-DmtAu57A.js";import"./index-DzxNtijP.js";const Le=[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]],Oe=Pe("calendar",Le);var P="rovingFocusGroup.onEntryFocus",Ge={bubbles:!1,cancelable:!0},I="RovingFocusGroup",[L,X,Ve]=ve(I),[Be,Z]=J(I,[Ve]),[Ke,Ue]=Be(I),ee=i.forwardRef((t,r)=>e.jsx(L.Provider,{scope:t.__scopeRovingFocusGroup,children:e.jsx(L.Slot,{scope:t.__scopeRovingFocusGroup,children:e.jsx(ze,{...t,ref:r})})}));ee.displayName=I;var ze=i.forwardRef((t,r)=>{const{__scopeRovingFocusGroup:n,orientation:s,loop:o=!1,dir:d,currentTabStopId:a,defaultCurrentTabStopId:h,onCurrentTabStopIdChange:b,onEntryFocus:f,preventScrollOnEntryFocus:l=!1,...u}=t,g=i.useRef(null),c=be(r,g),x=Q(d),[y,m]=Y({prop:a,defaultProp:h??null,onChange:b,caller:I}),[N,D]=i.useState(!1),v=je(f),w=X(n),k=i.useRef(!1),[me,G]=i.useState(0);return i.useEffect(()=>{const p=g.current;if(p)return p.addEventListener(P,v),()=>p.removeEventListener(P,v)},[v]),e.jsx(Ke,{scope:n,orientation:s,dir:x,loop:o,currentTabStopId:y,onItemFocus:i.useCallback(p=>m(p),[m]),onItemShiftTab:i.useCallback(()=>D(!0),[]),onFocusableItemAdd:i.useCallback(()=>G(p=>p+1),[]),onFocusableItemRemove:i.useCallback(()=>G(p=>p-1),[]),children:e.jsx(C.div,{tabIndex:N||me===0?-1:0,"data-orientation":s,...u,ref:c,style:{outline:"none",...t.style},onMouseDown:j(t.onMouseDown,()=>{k.current=!0}),onFocus:j(t.onFocus,p=>{const he=!k.current;if(p.target===p.currentTarget&&he&&!N){const V=new CustomEvent(P,Ge);if(p.currentTarget.dispatchEvent(V),!V.defaultPrevented){const _=w().filter(T=>T.focusable),fe=_.find(T=>T.active),ge=_.find(T=>T.id===y),pe=[fe,ge,..._].filter(Boolean).map(T=>T.ref.current);ae(pe,l)}}k.current=!1}),onBlur:j(t.onBlur,()=>D(!1))})})}),te="RovingFocusGroupItem",se=i.forwardRef((t,r)=>{const{__scopeRovingFocusGroup:n,focusable:s=!0,active:o=!1,tabStopId:d,children:a,...h}=t,b=W(),f=d||b,l=Ue(te,n),u=l.currentTabStopId===f,g=X(n),{onFocusableItemAdd:c,onFocusableItemRemove:x,currentTabStopId:y}=l;return i.useEffect(()=>{if(s)return c(),()=>x()},[s,c,x]),e.jsx(L.ItemSlot,{scope:n,id:f,focusable:s,active:o,children:e.jsx(C.span,{tabIndex:u?0:-1,"data-orientation":l.orientation,...h,ref:r,onMouseDown:j(t.onMouseDown,m=>{s?l.onItemFocus(f):m.preventDefault()}),onFocus:j(t.onFocus,()=>l.onItemFocus(f)),onKeyDown:j(t.onKeyDown,m=>{if(m.key==="Tab"&&m.shiftKey){l.onItemShiftTab();return}if(m.target!==m.currentTarget)return;const N=He(m,l.orientation,l.dir);if(N!==void 0){if(m.metaKey||m.ctrlKey||m.altKey||m.shiftKey)return;m.preventDefault();let v=g().filter(w=>w.focusable).map(w=>w.ref.current);if(N==="last")v.reverse();else if(N==="prev"||N==="next"){N==="prev"&&v.reverse();const w=v.indexOf(m.currentTarget);v=l.loop?Je(v,w+1):v.slice(w+1)}setTimeout(()=>ae(v))}}),children:typeof a=="function"?a({isCurrentTabStop:u,hasTabStop:y!=null}):a})})});se.displayName=te;var $e={ArrowLeft:"prev",ArrowUp:"prev",ArrowRight:"next",ArrowDown:"next",PageUp:"first",Home:"first",PageDown:"last",End:"last"};function qe(t,r){return r!=="rtl"?t:t==="ArrowLeft"?"ArrowRight":t==="ArrowRight"?"ArrowLeft":t}function He(t,r,n){const s=qe(t.key,n);if(!(r==="vertical"&&["ArrowLeft","ArrowRight"].includes(s))&&!(r==="horizontal"&&["ArrowUp","ArrowDown"].includes(s)))return $e[s]}function ae(t,r=!1){const n=document.activeElement;for(const s of t)if(s===n||(s.focus({preventScroll:r}),document.activeElement!==n))return}function Je(t,r){return t.map((n,s)=>t[(r+s)%t.length])}var Ye=ee,We=se,R="Tabs",[Qe]=J(R,[Z]),re=Z(),[Xe,O]=Qe(R),ne=i.forwardRef((t,r)=>{const{__scopeTabs:n,value:s,onValueChange:o,defaultValue:d,orientation:a="horizontal",dir:h,activationMode:b="automatic",...f}=t,l=Q(h),[u,g]=Y({prop:s,onChange:o,defaultProp:d??"",caller:R});return e.jsx(Xe,{scope:n,baseId:W(),value:u,onValueChange:g,orientation:a,dir:l,activationMode:b,children:e.jsx(C.div,{dir:l,"data-orientation":a,...f,ref:r})})});ne.displayName=R;var oe="TabsList",le=i.forwardRef((t,r)=>{const{__scopeTabs:n,loop:s=!0,...o}=t,d=O(oe,n),a=re(n);return e.jsx(Ye,{asChild:!0,...a,orientation:d.orientation,dir:d.dir,loop:s,children:e.jsx(C.div,{role:"tablist","aria-orientation":d.orientation,...o,ref:r})})});le.displayName=oe;var ie="TabsTrigger",ce=i.forwardRef((t,r)=>{const{__scopeTabs:n,value:s,disabled:o=!1,...d}=t,a=O(ie,n),h=re(n),b=ue(a.baseId,s),f=xe(a.baseId,s),l=s===a.value;return e.jsx(We,{asChild:!0,...h,focusable:!o,active:l,children:e.jsx(C.button,{type:"button",role:"tab","aria-selected":l,"aria-controls":f,"data-state":l?"active":"inactive","data-disabled":o?"":void 0,disabled:o,id:b,...d,ref:r,onMouseDown:j(t.onMouseDown,u=>{!o&&u.button===0&&u.ctrlKey===!1?a.onValueChange(s):u.preventDefault()}),onKeyDown:j(t.onKeyDown,u=>{[" ","Enter"].includes(u.key)&&a.onValueChange(s)}),onFocus:j(t.onFocus,()=>{const u=a.activationMode!=="manual";!l&&!o&&u&&a.onValueChange(s)})})})});ce.displayName=ie;var de="TabsContent",Ze=i.forwardRef((t,r)=>{const{__scopeTabs:n,value:s,forceMount:o,children:d,...a}=t,h=O(de,n),b=ue(h.baseId,s),f=xe(h.baseId,s),l=s===h.value,u=i.useRef(l);return i.useEffect(()=>{const g=requestAnimationFrame(()=>u.current=!1);return()=>cancelAnimationFrame(g)},[]),e.jsx(ye,{present:o||l,children:({present:g})=>e.jsx(C.div,{"data-state":l?"active":"inactive","data-orientation":h.orientation,role:"tabpanel","aria-labelledby":b,hidden:!g,id:f,tabIndex:0,...a,ref:r,style:{...t.style,animationDuration:u.current?"0s":void 0},children:g&&d})})});Ze.displayName=de;function ue(t,r){return`${t}-trigger-${r}`}function xe(t,r){return`${t}-content-${r}`}var et=ne,tt=le,st=ce;function at({className:t,...r}){return e.jsx(et,{"data-slot":"tabs",className:E("flex flex-col gap-2",t),...r})}function rt({className:t,...r}){return e.jsx(tt,{"data-slot":"tabs-list",className:E("bg-muted text-muted-foreground inline-flex h-9 w-fit items-center justify-center rounded-lg p-[3px]",t),...r})}function M({className:t,...r}){return e.jsx(st,{"data-slot":"tabs-trigger",className:E("data-[state=active]:bg-background dark:data-[state=active]:text-foreground focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:outline-ring dark:data-[state=active]:border-input dark:data-[state=active]:bg-input/30 text-foreground dark:text-muted-foreground inline-flex h-[calc(100%-1px)] flex-1 items-center justify-center gap-1.5 rounded-md border border-transparent px-2 py-1 text-sm font-medium whitespace-nowrap transition-[color,box-shadow] focus-visible:ring-[3px] focus-visible:outline-1 disabled:pointer-events-none disabled:opacity-50 data-[state=active]:shadow-sm [&_svg]:pointer-events-none [&_svg]:shrink-0 [&_svg:not([class*='size-'])]:size-4",t),...r})}function nt({articles:t,onDelete:r}){const n=s=>{switch(s){case"published":return"bg-green-100 text-green-700";case"draft":return"bg-yellow-100 text-yellow-700";case"scheduled":return"bg-blue-100 text-blue-700";default:return"bg-gray-100 text-gray-700"}};return e.jsx(Re,{className:"overflow-hidden",children:e.jsx("div",{className:"overflow-x-auto",children:e.jsxs("table",{className:"w-full",children:[e.jsx("thead",{className:"bg-gray-50 border-b",children:e.jsxs("tr",{children:[e.jsx("th",{className:"px-6 py-3 text-left text-sm font-semibold text-gray-700",children:"Title"}),e.jsx("th",{className:"px-6 py-3 text-left text-sm font-semibold text-gray-700",children:"Category"}),e.jsx("th",{className:"px-6 py-3 text-left text-sm font-semibold text-gray-700",children:"Author"}),e.jsx("th",{className:"px-6 py-3 text-left text-sm font-semibold text-gray-700",children:"Status"}),e.jsx("th",{className:"px-6 py-3 text-left text-sm font-semibold text-gray-700",children:"Views"}),e.jsx("th",{className:"px-6 py-3 text-left text-sm font-semibold text-gray-700",children:"Engagement"}),e.jsx("th",{className:"px-6 py-3 text-left text-sm font-semibold text-gray-700",children:"Actions"})]})}),e.jsx("tbody",{className:"divide-y",children:t.length===0?e.jsx("tr",{children:e.jsx("td",{colSpan:"7",className:"px-6 py-8 text-center text-gray-500",children:"No articles found"})}):t.map(s=>e.jsxs("tr",{className:"hover:bg-gray-50",children:[e.jsx("td",{className:"px-6 py-4",children:e.jsx("p",{className:"text-sm font-medium text-gray-900 line-clamp-1",children:s.title})}),e.jsx("td",{className:"px-6 py-4",children:e.jsx($,{variant:"outline",children:s.category})}),e.jsx("td",{className:"px-6 py-4",children:e.jsx("p",{className:"text-sm text-gray-600",children:s.author||"Admin"})}),e.jsx("td",{className:"px-6 py-4",children:e.jsx($,{className:n(s.status),children:s.status||"Published"})}),e.jsxs("td",{className:"px-6 py-4 text-sm text-gray-600 flex items-center gap-1",children:[e.jsx(De,{className:"w-4 h-4"}),s.views||0]}),e.jsxs("td",{className:"px-6 py-4 text-sm text-gray-600 flex items-center gap-1",children:[e.jsx(ke,{className:"w-4 h-4"}),s.likes||0]}),e.jsxs("td",{className:"px-6 py-4 flex gap-2",children:[e.jsx(S,{variant:"ghost",size:"sm",className:"gap-1",children:e.jsx(we,{className:"w-4 h-4"})}),e.jsx(S,{variant:"ghost",size:"sm",onClick:()=>r(s.id),className:"gap-1 text-red-600 hover:text-red-700",children:e.jsx(_e,{className:"w-4 h-4"})})]})]},s.id))})]})})})}function H({className:t,...r}){return e.jsx("textarea",{"data-slot":"textarea",className:E("border-input placeholder:text-muted-foreground focus-visible:border-ring focus-visible:ring-ring/50 aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive dark:bg-input/30 flex field-sizing-content min-h-16 w-full rounded-md border bg-transparent px-3 py-2 text-base shadow-xs transition-[color,box-shadow] outline-none focus-visible:ring-[3px] disabled:cursor-not-allowed disabled:opacity-50 md:text-sm",t),...r})}const ot=["Breaking News","Politics","Technology","Entertainment","Business","Lifestyle","Sports"];function lt({open:t,onOpenChange:r,onAdd:n}){const[s,o]=i.useState({title:"",excerpt:"",content:"",category:"",author:"Admin",publishDate:new Date().toISOString().split("T")[0],status:"draft"}),d=a=>{a.preventDefault(),s.title&&s.content&&s.category&&(n({...s,createdAt:new Date().toISOString(),views:0,likes:0}),o({title:"",excerpt:"",content:"",category:"",author:"Admin",publishDate:new Date().toISOString().split("T")[0],status:"draft"}))};return e.jsx(Te,{open:t,onOpenChange:r,children:e.jsxs(Ce,{className:"max-w-2xl max-h-[90vh] overflow-y-auto",children:[e.jsxs(Se,{children:[e.jsx(Ie,{children:"Create New Article"}),e.jsx(Ae,{children:"Add a comprehensive article with full details"})]}),e.jsxs("form",{onSubmit:d,className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Title *"}),e.jsx(F,{value:s.title,onChange:a=>o({...s,title:a.target.value}),placeholder:"Enter article title",required:!0})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Category *"}),e.jsxs(B,{value:s.category,onValueChange:a=>o({...s,category:a}),children:[e.jsx(K,{children:e.jsx(U,{placeholder:"Select category"})}),e.jsx(z,{children:ot.map(a=>e.jsx(A,{value:a,children:a},a))})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Status"}),e.jsxs(B,{value:s.status,onValueChange:a=>o({...s,status:a}),children:[e.jsx(K,{children:e.jsx(U,{})}),e.jsxs(z,{children:[e.jsx(A,{value:"draft",children:"Draft"}),e.jsx(A,{value:"published",children:"Published"}),e.jsx(A,{value:"scheduled",children:"Scheduled"})]})]})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Excerpt"}),e.jsx(H,{value:s.excerpt,onChange:a=>o({...s,excerpt:a.target.value}),placeholder:"Brief summary of the article (appears in previews)",className:"min-h-16"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Full Content *"}),e.jsx(H,{value:s.content,onChange:a=>o({...s,content:a.target.value}),placeholder:"Write the full article content here...",className:"min-h-32",required:!0})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Author"}),e.jsx(F,{value:s.author,onChange:a=>o({...s,author:a.target.value}),placeholder:"Author name"})]}),e.jsxs("div",{children:[e.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-1 flex items-center gap-2",children:[e.jsx(Oe,{className:"w-4 h-4"}),"Publish Date"]}),e.jsx(F,{type:"date",value:s.publishDate,onChange:a=>o({...s,publishDate:a.target.value})})]})]}),e.jsxs("div",{className:"flex gap-2 pt-4",children:[e.jsx(S,{type:"button",variant:"outline",onClick:()=>r(!1),className:"flex-1",children:"Cancel"}),e.jsx(S,{type:"submit",className:"flex-1",children:"Create Article"})]})]})]})})}function Tt(){const[t,r]=i.useState([]),[n,s]=i.useState(""),[o,d]=i.useState(!1),[a,h]=i.useState("all");i.useEffect(()=>{const c=JSON.parse(localStorage.getItem("sachhai-articles")||"[]");r(c)},[]);const b=c=>{const x=[...t,{...c,id:Date.now()}];r(x),localStorage.setItem("sachhai-articles",JSON.stringify(x)),d(!1)},f=c=>{const x=t.filter(y=>y.id!==c);r(x),localStorage.setItem("sachhai-articles",JSON.stringify(x))},l=t.filter(c=>{const x=c.title.toLowerCase().includes(n.toLowerCase())||c.category.toLowerCase().includes(n.toLowerCase()),y=a==="all"||c.status===a;return x&&y}),u=t.reduce((c,x)=>c+(x.views||0),0),g=t.reduce((c,x)=>c+(x.likes||0),0);return t.filter(c=>c.status==="published").length,e.jsx(Ne,{children:e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsxs("div",{children:[e.jsx("h1",{className:"text-3xl font-bold text-gray-900",children:"Articles"}),e.jsx("p",{className:"text-gray-600 mt-1",children:"Manage all published articles"})]}),e.jsxs(S,{onClick:()=>d(!0),className:"gap-2",children:[e.jsx(Fe,{className:"w-4 h-4"}),"New Article"]})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[e.jsx("div",{className:"bg-white p-4 rounded-lg border border-gray-200",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-gray-600 text-sm",children:"Total Articles"}),e.jsx("p",{className:"text-2xl font-bold text-gray-900",children:t.length})]}),e.jsx(Me,{className:"w-8 h-8 text-blue-500 opacity-20"})]})}),e.jsx("div",{className:"bg-white p-4 rounded-lg border border-gray-200",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-gray-600 text-sm",children:"Total Views"}),e.jsx("p",{className:"text-2xl font-bold text-gray-900",children:u.toLocaleString()})]}),e.jsx(q,{className:"w-8 h-8 text-green-500 opacity-20"})]})}),e.jsx("div",{className:"bg-white p-4 rounded-lg border border-gray-200",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-gray-600 text-sm",children:"Total Engagement"}),e.jsx("p",{className:"text-2xl font-bold text-gray-900",children:g.toLocaleString()})]}),e.jsx(q,{className:"w-8 h-8 text-purple-500 opacity-20"})]})})]}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"flex gap-4 items-end",children:[e.jsxs("div",{className:"relative flex-1",children:[e.jsx(Ee,{className:"absolute left-3 top-3 w-5 h-5 text-gray-400"}),e.jsx(F,{placeholder:"Search articles...",value:n,onChange:c=>s(c.target.value),className:"pl-10"})]}),e.jsx(at,{value:a,onValueChange:h,className:"w-auto",children:e.jsxs(rt,{className:"grid grid-cols-3 h-10",children:[e.jsx(M,{value:"all",className:"text-xs",children:"All"}),e.jsx(M,{value:"published",className:"text-xs",children:"Published"}),e.jsx(M,{value:"draft",className:"text-xs",children:"Draft"})]})})]}),e.jsx(nt,{articles:l,onDelete:f})]}),e.jsx(lt,{open:o,onOpenChange:d,onAdd:b})]})})}export{Tt as default};
